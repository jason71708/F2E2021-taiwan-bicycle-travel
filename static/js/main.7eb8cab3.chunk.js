(this["webpackJsonpf2e2021-taiwan-bicycle-travel"]=this["webpackJsonpf2e2021-taiwan-bicycle-travel"]||[]).push([[0],{68:function(n,e,t){},92:function(n,e,t){"use strict";t.r(e);var i,r,o,a,c,s,l,u,d,p,b,f,j,h,x=t(0),m=t.n(x),g=t(21),O=t.n(g),y=t(3),v=t(4),w=t(51),k={xs:0,sm:360,md:768,lg:1280,xl:1440},S=Object(w.a)(k),C=t(29),z=t(10),N=v.d.section(i||(i=Object(y.a)(["\n  position: relative;\n  width: 100vw;\n  height: ",";\n  text-align: center;\n\n  ","\n"])),(function(n){return n.theme.layout.headerHeight.default}),S("md")(r||(r=Object(y.a)(["\n    height: ",";\n  "])),(function(n){return n.theme.layout.headerHeight.md}))),B=v.d.div(o||(o=Object(y.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  background-color: ",";\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: ",";\n  padding: 10px 20px;\n  z-index: 404;\n\n  ","\n"])),(function(n){return n.theme.colors.primary[400]}),(function(n){return n.theme.layout.headerHeight.default}),S("md")(a||(a=Object(y.a)(["\n    position: static;\n    padding: 20px 72px;\n    height: ",";\n  "])),(function(n){return n.theme.layout.headerHeight.md}))),R=v.d.img(c||(c=Object(y.a)(["\n  width: 105px;\n\n  ","\n"])),S("md")(s||(s=Object(y.a)(["\n    width: 180px;\n  "])))),A=v.d.button(l||(l=Object(y.a)(["\n  color: ",";\n  cursor: pointer;\n"])),(function(n){return n.theme.colors.grey[100]})),L=v.d.nav(u||(u=Object(y.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  background-color: ",";\n  padding: 8px 0;\n  color: ",";\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 403;\n\n  ","\n\n  & a {\n    text-decoration: none;\n    flex: 1 0 auto;\n\n    &:nth-child(1n+2) {\n      border-left: 1px solid ",";\n\n      ","\n    }\n  }\n\n"])),(function(n){return n.theme.colors.primary[100]}),(function(n){return n.theme.colors.primary[400]}),S("md")(d||(d=Object(y.a)(["\n    position: static;\n    width: auto;\n    background-color: transparent;\n  "]))),(function(n){return n.theme.colors.primary[400]}),S("md")(p||(p=Object(y.a)(["\n        border-left: none;\n      "])))),P=v.d.span(b||(b=Object(y.a)(["\n  text-align: center;\n  padding: 4px 0;\n  font-weight: 700;\n  font-size: 12px;\n  transition: background-color 0.2s linear;\n\n  ","\n\n  & i {\n    display: block;\n\n    ","\n  }\n"])),S("md")(f||(f=Object(y.a)(["\n    display: inline-block;\n    background-color: ",";\n    border-radius: 8px;\n    box-shadow: 0 0 0 ","px ",";\n    padding: 8px 16px;\n    margin-left: 16px;\n    font-size: 16px;\n\n    &:hover {\n      box-shadow: 0 0 0 3px ",";\n    }\n  "])),(function(n){return n.match?n.theme.colors.primary[100]:n.theme.colors.grey[100]}),(function(n){return n.match?"3":"1"}),(function(n){return n.theme.colors.primary[300]}),(function(n){return n.theme.colors.primary[300]})),S("md")(j||(j=Object(y.a)(["\n      display: inline-block;\n      margin-right: 4px;\n    "])))),E=t(8);!function(n){n.Bicycle="/bicycle",n.Routes="/routes",n.Scenics="/scenics"}(h||(h={}));var F=t(1),D=function(){var n=Object(E.f)();return Object(F.jsxs)(L,{children:[Object(F.jsx)(C.b,{to:h.Bicycle,children:Object(F.jsxs)(P,{match:n.pathname===h.Bicycle,children:[Object(F.jsx)("i",{className:"fas fa-bicycle"}),"\u627e\u55ae\u8eca"]})}),Object(F.jsx)(C.b,{to:h.Routes,children:Object(F.jsxs)(P,{match:n.pathname===h.Routes,children:[Object(F.jsx)("i",{className:"fas fa-route"}),"\u627e\u8def\u7dda"]})})]})},T=t(55);var $,M,_,H,I,Z=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(T.useMediaQuery)({query:"(".concat(e?"min-width":"max-width",": ").concat(k[n],"px)")})},J=t(102),q=(t(68),function(n){var e=n.show,t=n.children;return Object(F.jsx)(J.a,{in:e,timeout:300,classNames:"fade",unmountOnExit:!0,children:t})}),U=function(){var n=Z("md"),e=Object(x.useState)(!1),t=Object(z.a)(e,2),i=t[0],r=t[1];return Object(x.useEffect)((function(){var n=function(){r(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[r]),Object(F.jsx)("div",{onClick:function(n){n.stopPropagation()},children:Object(F.jsxs)(N,{children:[Object(F.jsxs)(B,{children:[Object(F.jsx)(R,{src:"./logo.png",alt:"logo"}),n?Object(F.jsx)(D,{}):Object(F.jsx)(A,{onClick:function(){return r(!i)},children:Object(F.jsx)("i",{className:"fas fa-bars"})})]}),Object(F.jsx)(q,{show:i,children:Object(F.jsx)(D,{})})]})})},X=t(101),K=t(103),W=t(12),G=t(22),Q=Object(G.b)({name:"station",initialState:{pedding:!1,data:[],error:null},reducers:{request:function(n,e){n.pedding=!0},success:function(n,e){n.pedding=!1,n.data=e.payload.data,n.error=null},failure:function(n,e){n.pedding=!1,n.error=e.payload.error},clear:function(n,e){n.data=[],n.pedding=!1,n.error=null}}}),Y=Q.actions,V=Y.request,nn=Y.success,en=Y.failure,tn=Y.clear,rn=Q.reducer,on=t(11),an=t.n(on),cn=function(n){var e=n.children,t=Object(x.useRef)(null),i=Object(x.useCallback)((function(){t.current?(an.a.DomEvent.disableClickPropagation(t.current),an.a.DomEvent.disableScrollPropagation(t.current)):setTimeout((function(){i()}),100)}),[]);return Object(x.useEffect)((function(){i()}),[i]),Object(F.jsx)("div",{ref:t,children:e})},sn=t(96);!function(n){n.Limited="Limited",n.Disabled="Disabled",n.Default="Default"}($||($={})),function(n){n.Bike="Bike",n.Parking="Parking"}(M||(M={})),function(n){n[n["\u505c\u6b62\u71df\u904b"]=0]="\u505c\u6b62\u71df\u904b",n[n["\u6b63\u5e38\u71df\u904b"]=1]="\u6b63\u5e38\u71df\u904b",n[n["\u66ab\u505c\u71df\u904b"]=2]="\u66ab\u505c\u71df\u904b"}(_||(_={})),function(n){n.NoResult="NoResult",n.PageNotFound="PageNotFound",n.Error="Error"}(H||(H={})),function(n){n[n.Search=0]="Search",n[n.Locate=1]="Locate"}(I||(I={}));var ln,un,dn,pn,bn,fn,jn,hn,xn,mn,gn,On,yn,vn,wn,kn,Sn,Cn,zn,Nn,Bn,Rn={type:M.Bike},An=Object(G.b)({name:"displayType",initialState:Rn,reducers:{update:function(n,e){n.type=e.payload.type}}}),Ln=An.actions.update,Pn=An.reducer,En=Object(v.c)(ln||(ln=Object(y.a)(["\n  box-shadow: 4px 4px 20px 0 ","30;\n"])),(function(n){return n.theme.colors.grey[500]})),Fn=Object(v.c)(un||(un=Object(y.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  display: -webkit-box;\n  -webkit-line-clamp: ",";\n  -webkit-box-orient: vertical;\n"])),(function(n){return n.lineLimit})),Dn=Object(v.e)(dn||(dn=Object(y.a)(["\nfrom {\n  transform: rotate(0deg);\n}\n\nto {\n  transform: rotate(360deg);\n}\n"]))),Tn=Object(v.c)(pn||(pn=Object(y.a)(["\n  animation: "," 2s linear infinite;\n"])),Dn),$n=Object(v.c)(bn||(bn=Object(y.a)(["\n  color: ",";\n  background-color: ",";\n"])),(function(n){return n.status===$.Default?n.theme.colors.primary[500]:n.status===$.Limited?n.theme.colors.alert[600]:n.theme.colors.grey[400]}),(function(n){return n.status===$.Default?n.theme.colors.primary[100]:n.status===$.Limited?n.theme.colors.alert[100]:n.theme.colors.grey[200]})),Mn=v.d.li(fn||(fn=Object(y.a)(["\n  display: block;\n  border-top: 1px solid ",";\n  padding: 10px 28px 10px 16px;\n\n  ","\n"])),(function(n){return n.theme.colors.grey[300]}),S("md")(jn||(jn=Object(y.a)(["\n    padding: 20px 40px 20px 28px;\n  "])))),_n=v.d.h1(hn||(hn=Object(y.a)(["\n  ","\n  font-size: 22px;\n  line-height: 26px;\n  font-weight: 700;\n  color: ",";\n"])),Fn,(function(n){return n.theme.colors.primary[500]})),Hn=v.d.div(xn||(xn=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 12px;\n"]))),In=v.d.button(mn||(mn=Object(y.a)(["\n  ","\n  flex: 1 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-align: center;\n  padding: 4px 20px;\n  border-radius: 8px;\n\n  &:nth-child(n+2) {\n    margin-left: 20px;\n  }\n\n  ","\n"])),$n,S("md")(gn||(gn=Object(y.a)(["\n    display: block;\n    padding: 8px 0;\n  "])))),Zn=v.d.span(On||(On=Object(y.a)(["\n  display: inline-block;\n  font-size: 15px;\n  line-height: 20px;\n  font-weight: 500;\n\n  & i {\n    margin-right: 4px;\n  }\n\n  ","\n"])),S("md")(yn||(yn=Object(y.a)(["\n    display: block;\n  "])))),Jn=v.d.span(vn||(vn=Object(y.a)(["\n  display: inline-block;\n  font-size: 20px;\n  line-height: 32px;\n  font-weight: 700;\n\n  ","\n"])),S("md")(wn||(wn=Object(y.a)(["\n    display: block;\n    font-size: 26px;\n    margin-top: 4px;\n  "])))),qn=v.d.span(kn||(kn=Object(y.a)(["\n  font-size: 15px;\n  font-weight: 500;\n  line-height: 20px;\n  border-radius: 6px;\n  color: ",";\n\n  & i {\n    margin-right: 6px;\n  }\n"])),(function(n){return n.theme.colors.grey[500]})),Un=Object(v.d)(qn)(Sn||(Sn=Object(y.a)(["\n  padding: 6px 12px;\n  border: 1px solid ",";\n"])),(function(n){return n.theme.colors.grey[500]})),Xn=function(n,e){return 1!==n?$.Disabled:e>5?$.Default:e>0?$.Limited:$.Disabled},Kn=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m";return"m"===e?n>=1e3?"".concat(n/1e3," \u516c\u91cc"):"".concat(n," \u516c\u5c3a"):"".concat(n," ").concat(e)},Wn=m.a.memo((function(n){var e=n.station,t=n.badgeClick;return Object(F.jsxs)(Mn,{children:[Object(F.jsx)(_n,{lineLimit:1,children:e.StationName.Zh_tw.split("_")[1]}),Object(F.jsxs)(Hn,{children:[Object(F.jsxs)(In,{"data-type":"rent",status:Xn(e.ServiceStatus,e.AvailableRentBikes),onClick:function(){return t(M.Bike,e)},children:[Object(F.jsxs)(Zn,{children:[Object(F.jsx)("i",{className:"fas fa-bicycle"}),"\u53ef\u79df\u501f"]}),Object(F.jsx)(Jn,{children:e.AvailableRentBikes})]}),Object(F.jsxs)(In,{"data-type":"return",status:Xn(e.ServiceStatus,e.AvailableReturnBikes),onClick:function(){return t(M.Parking,e)},children:[Object(F.jsxs)(Zn,{children:[Object(F.jsx)("i",{className:"fas fa-parking"}),"\u53ef\u505c\u8eca"]}),Object(F.jsx)(Jn,{children:e.AvailableReturnBikes})]})]}),Object(F.jsxs)(Hn,{children:[Object(F.jsx)(Un,{children:e.StationName.Zh_tw.split("_")[0]}),Object(F.jsxs)(qn,{children:[Object(F.jsx)("i",{className:"fas fa-lightbulb"}),_[e.ServiceStatus]]})]})]})})),Gn=v.d.div(Cn||(Cn=Object(y.a)(["\n  width: 100%;\n  padding: 40px 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n"])),(function(n){return n.theme.colors.grey[400]})),Qn=v.d.p(zn||(zn=Object(y.a)(["\n  font-size: 18px;\n  margin: 0 0 0 8px;\n  text-align: center;\n  padding: 0 40px;\n\n  ","\n"])),S("md")(Nn||(Nn=Object(y.a)(["\n    text-align: start;\n    padding: 0;\n  "])))),Yn=v.d.div(Bn||(Bn=Object(y.a)(["\n  font-size: 32px;\n"])));var Vn,ne,ee=function(n){var e=n.problem;return Object(F.jsxs)(Gn,{children:[Object(F.jsx)(Yn,{children:Object(F.jsx)("i",{className:"fas fa-exclamation-circle"})}),Object(F.jsx)("div",{children:Object(F.jsxs)(Qn,{children:[e===H.NoResult&&"\u7121\u641c\u5c0b\u76f8\u95dc\u7684\u5167\u5bb9",e===H.PageNotFound&&"\u627e\u4e0d\u5230\u8a72\u9801\u9762",e===H.Error&&"\u4f3a\u670d\u5668\u932f\u8aa4\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66"]})})]})},te=v.d.div(Vn||(Vn=Object(y.a)(["\n  width: 100%;\n  padding: 40px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n"])),(function(n){return n.theme.colors.primary[400]})),ie=v.d.div(ne||(ne=Object(y.a)(["\n  font-size: 32px;\n  ","\n"])),Tn);var re,oe,ae,ce,se,le,ue,de,pe,be,fe,je,he,xe,me,ge,Oe,ye,ve,we,ke,Se,Ce,ze,Ne,Be,Re,Ae,Le,Pe,Ee,Fe,De,Te,$e,Me,_e,He,Ie,Ze=function(){return Object(F.jsx)(te,{children:Object(F.jsx)(ie,{children:Object(F.jsx)("i",{className:"fas fa-spinner"})})})},Je=v.d.section(re||(re=Object(y.a)(["\n  position: absolute;\n  bottom: ",";\n  left: 0;\n  width: 100vw;\n  height: 300px;\n  padding: 16px 0;\n  z-index: 402; // In order to biger than Map's z-index\n  background-color: ",";\n  border-radius: 8px;\n  cursor: initial;\n  /* overflow: hidden; */\n  ","\n  transition: bottom 0.3s linear;\n\n  ","\n"])),(function(n){return n.isUnfold?"0px":"-200px"}),(function(n){return n.theme.colors.grey[100]}),En,S("md")(oe||(oe=Object(y.a)(["\n    top: 36px;\n    left: 36px;\n    width: 430px;\n    height: calc(100% - 72px);\n    padding: 28px 0;\n  "])))),qe=v.d.button(ae||(ae=Object(y.a)(["\n  position: absolute;\n  bottom: 100%;\n  background-color: ",";\n  width: 60px;\n  height: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: 6px 6px 0 0;\n  z-index: 402;\n  font-size: 14px;\n\n  ","\n"])),(function(n){return n.theme.colors.grey[100]}),S("md")(ce||(ce=Object(y.a)(["\n    display: none;\n  "])))),Ue=v.d.div(se||(se=Object(y.a)(["\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n\n  ","\n"])),S("md")(le||(le=Object(y.a)(["\n    margin-bottom: 28px;\n    padding: 0 28px;\n  "])))),Xe=v.d.ul(ue||(ue=Object(y.a)(["\n  width: 100%;\n  height: calc(100% - 36px - 28px);\n  overflow: auto;\n"]))),Ke=v.d.div(de||(de=Object(y.a)(["\n  position: relative;\n  padding: 8px 48px 8px 20px;\n  margin-left: 12px;\n  flex: 1 0 auto;\n  background-color: ",";\n  color: ",";\n  border-radius: 8px;\n  font-weight: bold;\n  font-size: 14px;\n"])),(function(n){return n.theme.colors.grey[200]}),(function(n){return n.theme.colors.grey[600]})),We=v.d.input(pe||(pe=Object(y.a)(["\n  width: 100%;\n  height: 100%;\n"]))),Ge=v.d.button(be||(be=Object(y.a)(["\n  position: absolute;\n  right: 20px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 20px;\n  color: ",";\n"])),(function(n){return n.theme.colors.grey[600]})),Qe=v.d.select(fe||(fe=Object(y.a)(["\n  width: 100px;\n  padding: 8px 12px;\n  font-size: 15px;\n  line-height: 20px;\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n"])),(function(n){return n.theme.colors.primary[600]}),(function(n){return n.theme.colors.primary[400]})),Ye=[{CityName:"\u81fa\u5317\u5e02",City:"Taipei"},{CityName:"\u65b0\u5317\u5e02",City:"NewTaipei"},{CityName:"\u6843\u5712\u5e02",City:"Taoyuan"},{CityName:"\u81fa\u4e2d\u5e02",City:"Taichung"},{CityName:"\u81fa\u5357\u5e02",City:"Tainan"},{CityName:"\u9ad8\u96c4\u5e02",City:"Kaohsiung"},{CityName:"\u65b0\u7af9\u5e02",City:"Hsinchu"},{CityName:"\u82d7\u6817\u7e23",City:"MiaoliCounty"},{CityName:"\u5609\u7fa9\u5e02",City:"Chiayi"},{CityName:"\u5c4f\u6771\u7e23",City:"PingtungCounty"},{CityName:"\u91d1\u9580\u7e23",City:"KinmenCounty"}],Ve=function(n){var e=n.openSearchList,t=n.toggleSearchList,i=n.children,r=n.placeholderText,o=n.submitHandler,a=Object(x.useState)(""),c=Object(z.a)(a,2),s=c[0],l=c[1],u=Object(x.useState)(Ye[0].City),d=Object(z.a)(u,2),p=d[0],b=d[1];return Object(F.jsxs)(Je,{isUnfold:e,children:[Object(F.jsx)(qe,{onClick:function(){return t(!e)},children:e?Object(F.jsx)("i",{className:"fas fa-angle-down"}):Object(F.jsx)("i",{className:"fas fa-angle-up"})}),Object(F.jsxs)(Ue,{children:[Object(F.jsx)(Qe,{onChange:function(n){return b(n.target.value)},children:Ye.map((function(n){return Object(F.jsx)("option",{value:n.City,children:n.CityName},n.City)}))}),Object(F.jsxs)(Ke,{children:[Object(F.jsx)(We,{type:"text",value:s,placeholder:r||"\u641c\u5c0b",onChange:function(n){return l(n.target.value)},onKeyPress:function(n){"Enter"===n.key&&o(s,p)}}),Object(F.jsx)(Ge,{onClick:function(){return o(s,p)},children:Object(F.jsx)("i",{className:"fas fa-search"})})]})]}),Object(F.jsx)(Xe,{children:i})]})},nt=t(57),et=v.d.button(je||(je=Object(y.a)(["\n  position: absolute;\n  right: 28px;\n  bottom: ",";\n  width: 40px;\n  height: 40px;\n  border-radius: 100%;\n  background-color: ",";\n  color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 402; // In order to biger than Map's z-index\n  font-size: 20px;\n  ","\n  ","\n  transition: bottom 0.3s linear;\n\n  &:hover {\n    border: 3px solid ",";\n  }\n\n  ","\n"])),(function(n){return n.openSearchList?"calc(300px + 12px)":"calc(100px + 12px)"}),(function(n){return n.active?n.theme.colors.primary[400]:n.theme.colors.grey[300]}),(function(n){return n.theme.colors.grey[100]}),En,(function(n){return n.locating?Tn:""}),(function(n){return n.theme.colors.primary[500]}),S("md")(he||(he=Object(y.a)(["\n    top: 36px;\n    bottom: auto;\n    right: calc(50% - 30px);\n    font-size: 30px;\n    width: 60px;\n    height: 60px;\n  "])))),tt=Object(G.b)({name:"geolocation",initialState:{position:null,center:[23.703875,120.982024]},reducers:{update:function(n,e){void 0!==e.payload.position&&(n.position=e.payload.position),void 0!==e.payload.center&&(n.center=e.payload.center)},reset:function(n){n.position=null}}}),it=tt.actions,rt=it.update,ot=(it.reset,tt.reducer),at=function(n){var e=n.openSearchList,t=n.action,i=Object(sn.a)(),r=Object(x.useState)(null),o=Object(z.a)(r,2),a=(o[0],o[1]),c=Object(x.useState)(!1),s=Object(z.a)(c,2),l=s[0],u=s[1],d=Object(W.b)(),p=Object(W.c)((function(n){return n.geolocation.position})),b=function(){u(!0);var n=navigator.geolocation.watchPosition((function(n){d(rt({position:[n.coords.latitude,n.coords.longitude]})),u(!1)}),(function(n){alert("Unable to retrieve your location"),u(!1)}));a(n)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(et,{openSearchList:e,"data-tip":!0,"data-for":"postitionButton",active:!!p,locating:l,onClick:function(){"geolocation"in navigator?p?(t===I.Search&&d(V({position:p})),i.flyTo(p)):b():alert("Geolocation is not supported by your browser")},children:Object(F.jsx)("i",{className:"fas fa-crosshairs"})}),Object(F.jsx)(nt.a,{id:"postitionButton",place:"right",type:"dark",effect:"solid",children:"\u6211\u7684\u4f4d\u7f6e"})]})},ct=v.d.div(xe||(xe=Object(y.a)(["\n  position: absolute;\n  padding: 4px 6px;\n  top: 20px;\n  right: calc(50% - 100px);\n  width: 200px;\n  height: 36px;\n  cursor: pointer;\n  z-index: 402; // In order to biger than Map's z-index\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: 999px;\n\n  ","\n"])),En,(function(n){return n.theme.colors.grey[100]}),S("md")(me||(me=Object(y.a)(["\n    width: 280px;\n    height: 60px;\n    padding: 8px 12px;\n    top: calc(36px + 60px + 12px);\n    right: calc(50% - 140px);\n  "])))),st=v.d.button(ge||(ge=Object(y.a)(["\n  flex: 1 0 auto;\n  width: 50%;\n  height: 100%;\n  border-radius: 999px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  font-size: 14px;\n\n  & i {\n    margin-right: 8px;\n  }\n\n  ","\n"])),(function(n){return n.active?n.theme.colors.grey[100]:n.theme.colors.primary[400]}),(function(n){return n.active?n.theme.colors.primary[400]:n.theme.colors.grey[100]}),S("md")(Oe||(Oe=Object(y.a)(["\n    font-size: 18px;\n  "])))),lt=function(){var n=Object(W.b)(),e=Object(W.c)((function(n){return n.displayType})).type,t=function(t){e!==t&&n(Ln({type:t}))};return Object(F.jsxs)(ct,{children:[Object(F.jsxs)(st,{active:e===M.Bike,onClick:function(){return t(M.Bike)},children:[Object(F.jsx)("i",{className:"fas fa-bicycle"}),"\u627e\u55ae\u8eca"]}),Object(F.jsxs)(st,{active:e===M.Parking,onClick:function(){return t(M.Parking)},children:[Object(F.jsx)("i",{className:"fas fa-parking"}),"\u627e\u8eca\u4f4d"]})]})},ut=function(){var n=Object(sn.a)(),e=Object(W.b)(),t=Object(W.c)((function(n){return n.displayType})).type,i=Object(W.c)((function(n){return n.station})),r=i.pedding,o=i.data,a=i.error,c=Object(x.useState)(!1),s=Object(z.a)(c,2),l=s[0],u=s[1],d=Object(x.useCallback)((function(i,r){t!==i&&e(Ln({type:i})),n.flyTo([r.StationPosition.PositionLat,r.StationPosition.PositionLon],void 0,{animate:!1})}),[e,n,t]);return Object(x.useEffect)((function(){return function(){e(tn())}}),[e]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Ve,{openSearchList:l,toggleSearchList:u,placeholderText:"\u641c\u5c0b\u7ad9\u9ede",submitHandler:function(n,t){e(V({keyword:n,city:t}))},children:[r&&Object(F.jsx)(Ze,{}),a&&Object(F.jsx)(ee,{problem:H.Error}),!r&&!a&&(o.length>0?o.map((function(n){return Object(F.jsx)(Wn,{station:n,badgeClick:d},n.StationID)})):Object(F.jsx)(ee,{problem:H.NoResult}))]}),Object(F.jsx)(lt,{}),Object(F.jsx)(at,{openSearchList:l,action:I.Search})]})},dt=v.d.li(ye||(ye=Object(y.a)(["\n  display: block;\n  border-top: 1px solid ",";\n  cursor: pointer;\n  padding: 10px 28px 10px 16px;\n  background-color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  ","\n"])),(function(n){return n.theme.colors.grey[300]}),(function(n){return n.active?n.theme.colors.primary[500]:n.theme.colors.grey[100]}),(function(n){return n.active?n.theme.colors.primary[500]:n.theme.colors.grey[200]}),S("md")(ve||(ve=Object(y.a)(["\n    padding: 20px 40px 20px 28px;\n  "])))),pt=v.d.h1(we||(we=Object(y.a)(["\n  ","\n  font-size: 22px;\n  line-height: 26px;\n  font-weight: 700;\n  color: ",";\n"])),Fn,(function(n){return n.active?n.theme.colors.grey[100]:n.theme.colors.primary[500]})),bt=v.d.div(ke||(ke=Object(y.a)(["\n  position: relative;\n  margin: 12px 0;\n"]))),ft=v.d.span(Se||(Se=Object(y.a)(["\n  padding: 8px 12px;\n  font-size: 15px;\n  background-color: ",";\n  color: ",";\n  font-weight: 500;\n  line-height: 20px;\n  border-radius: 8px;\n"])),(function(n){return n.active?n.theme.colors.grey[100]:n.theme.colors.primary[100]}),(function(n){return n.theme.colors.primary[500]})),jt=Object(v.d)(ft)(Ce||(Ce=Object(y.a)(["\n  flex: 1 1 auto;\n"]))),ht=Object(v.d)(ft)(ze||(ze=Object(y.a)(["\n  flex: 0 0 auto;\n  margin-right: 8px;\n  margin-left: 20px;\n"]))),xt=v.d.div(Ne||(Ne=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  &:nth-child(n+2) {\n    margin-top: 12px;\n  }\n"]))),mt=v.d.span(Be||(Be=Object(y.a)(["\n  font-size: 15px;\n  font-weight: 500;\n  line-height: 20px;\n  border-radius: 6px;\n  color: ",";\n\n  & i {\n    margin-right: 6px;\n  }\n"])),(function(n){return n.active?n.theme.colors.grey[200]:n.theme.colors.grey[500]})),gt=v.d.span(Re||(Re=Object(y.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 60px;\n  transform: scaleX(0.5);\n  transform-origin: 0% 50%;\n  color: ",";\n"])),(function(n){return n.active?n.theme.colors.grey[100]:n.theme.colors.grey[500]})),Ot=m.a.memo((function(n){var e=n.route,t=n.itemOnClick,i=n.isActive;return Object(F.jsxs)(dt,{onClick:function(){return t(e)},active:i,children:[Object(F.jsx)(pt,{lineLimit:1,active:i,children:e.RouteName}),Object(F.jsxs)(bt,{children:[Object(F.jsxs)(xt,{children:[Object(F.jsx)(ht,{active:i,children:"\u8d77"}),Object(F.jsx)(jt,{active:i,children:e.RoadSectionStart})]}),Object(F.jsxs)(xt,{children:[Object(F.jsx)(ht,{active:i,children:"\u8fc4"}),Object(F.jsx)(jt,{active:i,children:e.RoadSectionEnd})]}),Object(F.jsx)(gt,{active:i,children:"\u96d9\u5411"===e.Direction?Object(F.jsx)("i",{className:"fas fa-arrows-alt-v"}):Object(F.jsx)("i",{className:"fas fa-long-arrow-alt-down"})})]}),Object(F.jsxs)(xt,{children:[Object(F.jsxs)(mt,{active:i,children:[Object(F.jsx)("i",{className:"fas fa-map-marker-alt"}),e.City]}),Object(F.jsxs)(mt,{active:i,children:[Object(F.jsx)("i",{className:"fas fa-route"}),"\u7e3d\u9577 ",Kn(e.CyclingLength)]})]})]})})),yt=Object(G.b)({name:"route",initialState:{pedding:!1,data:[],error:null,current:null},reducers:{request:function(n,e){n.pedding=!0},success:function(n,e){n.pedding=!1,n.data=e.payload.data,n.error=null},failure:function(n,e){n.pedding=!1,n.error=e.payload.error},clear:function(n,e){n.data=[],n.pedding=!1,n.error=null,n.current=null},setCurrent:function(n,e){n.current=e.payload.route}}}),vt=yt.actions,wt=vt.request,kt=vt.success,St=vt.failure,Ct=vt.clear,zt=vt.setCurrent,Nt=yt.reducer,Bt=function(){var n=Object(W.b)(),e=Object(W.c)((function(n){return n.route})),t=e.pedding,i=e.data,r=e.error,o=e.current,a=Object(x.useState)(!1),c=Object(z.a)(a,2),s=c[0],l=c[1],u=Object(x.useCallback)((function(e){n(zt({route:e}))}),[n]);return Object(x.useEffect)((function(){return function(){n(Ct())}}),[n]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Ve,{openSearchList:s,toggleSearchList:l,submitHandler:function(e,t){n(wt({keyword:e,city:t}))},placeholderText:"\u641c\u5c0b\u8def\u7dda",children:[t&&Object(F.jsx)(Ze,{}),r&&Object(F.jsx)(ee,{problem:H.Error}),!t&&!r&&(i.length>0?i.map((function(n){return Object(F.jsx)(Ot,{route:n,isActive:(null===o||void 0===o?void 0:o.RouteName)===n.RouteName,itemOnClick:u},n.RouteName)})):Object(F.jsx)(ee,{problem:H.NoResult}))]}),Object(F.jsx)(at,{openSearchList:s,action:I.Locate})]})},Rt=t(97),At=t(98),Lt=v.d.div(Ae||(Ae=Object(y.a)(["\n  color: ",";\n  padding: 4px 12px;\n  font-size: 14px;\n"])),(function(n){return n.theme.colors.grey[100]})),Pt=t.p+"static/media/dribbble-unscreen.04671d5f.gif",Et=new an.a.icon({iconUrl:Pt,iconSize:[120,90],iconAnchor:[60,45],popupAnchor:[1,-90]}),Ft=function(n){var e=n.position;return Object(F.jsx)(Rt.a,{"data-tip":!0,"data-for":"postitionMarker",icon:Et,position:e,children:Object(F.jsx)(At.a,{offset:[20,0],children:Object(F.jsx)(Lt,{children:"\u73fe\u5728\u4f4d\u7f6e"})})})},Dt={layout:{headerHeight:{default:"36px",md:"60px"}},typography:{h1:"45px",h2:"36px",h3:"32px",h4:"36px",h5:"22px",content:"18px",button:"15px",caption:"12px"},colors:{primary:{100:"#DFE4CE",200:"#CBD3B0",300:"#A4B375",400:"#738047",500:"#474F2C",600:"#292E19"},accent:{100:"#FAF0E5",200:"#F5DFC6",300:"#EABD8A",400:"#DE994A",500:"#C67A24",600:"#A3651E"},alert:{100:"#F7D4DD",200:"#F1B2C1",300:"#F27594",400:"#E75578",500:"#BC3253",600:"#8C3046"},grey:{100:"#FFFFFF",200:"#EEEEEE",300:"#C5C5C5",400:"#9A9A9A",500:"#767676",600:"#464646",700:"#222222"}}},Tt=t(39),$t=v.d.text(Le||(Le=Object(y.a)(["\n  fill: ",";\n  font-size: 24px;\n  font-weight: bold;\n  transform: ",";\n"])),(function(n){return n.color}),(function(n){return n.isOverTen?"translateX(-14px)":"translateX(-7px)"})),Mt=function(n){var e=n.status,t=n.quantity,i=Object(x.useMemo)((function(){return e===$.Default?Dt.colors.primary[400]:e===$.Limited?Dt.colors.alert[400]:Dt.colors.grey[400]}),[e]),r=Object(x.useMemo)((function(){return e===$.Default?Object(Tt.a)(.2,Dt.colors.primary[400]):e===$.Limited?Object(Tt.a)(.2,Dt.colors.alert[400]):Object(Tt.a)(.2,Dt.colors.grey[400])}),[e]);return Object(F.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 58 77",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(F.jsx)("ellipse",{cx:"29",cy:"72.5",rx:"15",ry:"4.5",fill:r}),Object(F.jsx)("path",{d:"M28.8003 0C12.9207 0 0.000293201 12.9204 0.000293201 28.782C-0.104107 51.984 27.7059 71.2224 28.8003 72C28.8003 72 57.7047 51.984 57.6003 28.8C57.6003 12.9204 44.6799 0 28.8003 0ZM28.8003 43.2C20.8443 43.2 14.4003 36.756 14.4003 28.8C14.4003 20.844 20.8443 14.4 28.8003 14.4C36.7563 14.4 43.2003 20.844 43.2003 28.8C43.2003 36.756 36.7563 43.2 28.8003 43.2Z",fill:i}),Object(F.jsx)("circle",{cx:"29",cy:"29",r:"19",fill:"#fff"}),Object(F.jsx)($t,{x:"50%",y:"47%",color:i,isOverTen:t>=10,children:t})]})},_t=t(36),Ht=t.n(_t),It=t(99),Zt=v.d.h1(Pe||(Pe=Object(y.a)(["\n  font-weight: 700;\n  font-size: 15px;\n  line-height: 1.3;\n  color: ",";\n\n  ","\n"])),(function(n){return n.theme.colors.primary[500]}),S("md")(Ee||(Ee=Object(y.a)(["\n    font-size: 18px;\n    line-height: 1.5;\n  "])))),Jt=v.d.div(Fe||(Fe=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &:nth-child(n+2) {\n    margin-top: 8px;\n  }\n"]))),qt=v.d.span(De||(De=Object(y.a)(["\n  color: ",";\n  font-size: 15px;\n  font-weight: 500;\n  line-height: 20px;\n\n  & i {\n    margin-right: 6px;\n  }\n"])),(function(n){return n.theme.colors.grey[500]})),Ut=v.d.div(Te||(Te=Object(y.a)(["\n  display: flex;\n  align-items: center;\n"]))),Xt=v.d.span($e||($e=Object(y.a)(["\n  ","\n  font-size: 15px;\n  font-weight: 700;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: auto;\n  height: auto;\n  padding: 1px 6px;\n  border-radius: 4px;\n\n  & i {\n    margin-right: 8px;\n  }\n\n  &:nth-child(n+2) {\n    margin-left: 12px;\n  }\n\n  ","\n"])),$n,S("md")(Me||(Me=Object(y.a)(["\n    width: 70px;\n    height: 30px;\n    padding: 0 12px;\n  "])))),Kt=function(n){var e=n.station,t=Z("md");return Object(F.jsxs)(It.a,{closeButton:!1,minWidth:t?350:270,maxHeight:t?100:75,children:[Object(F.jsxs)(Jt,{children:[Object(F.jsx)(Zt,{children:e.StationName.Zh_tw.split("_")[1]}),Object(F.jsx)(qt,{children:e.StationName.Zh_tw.split("_")[0]})]}),Object(F.jsxs)(Jt,{children:[Object(F.jsxs)(Ut,{children:[Object(F.jsxs)(Xt,{status:Xn(e.ServiceStatus,e.AvailableRentBikes),children:[Object(F.jsx)("i",{className:"fas fa-bicycle"}),e.AvailableRentBikes]}),Object(F.jsxs)(Xt,{status:Xn(e.ServiceStatus,e.AvailableReturnBikes),children:[Object(F.jsx)("i",{className:"fas fa-parking"}),e.AvailableReturnBikes]})]}),Object(F.jsxs)(qt,{children:[Object(F.jsx)("i",{className:"fas fa-lightbulb"}),_[e.ServiceStatus]]})]})]})},Wt=function(n,e,t){return an.a.divIcon({iconSize:[45,60],iconAnchor:[22.5,30],popupAnchor:t?[175,140]:[0,-25],html:Ht.a.renderToString(Object(F.jsx)(Mt,{status:n,quantity:e}))})},Gt={PositionMarker:Ft,StationMarker:function(n){var e=n.station,t=n.type,i=Object(sn.a)(),r=Z("md"),o=Object(x.useMemo)((function(){return 1!==e.ServiceStatus?Wt($.Disabled,0,r):Wt(Xn(e.ServiceStatus,t===M.Bike?e.AvailableRentBikes:e.AvailableReturnBikes),t===M.Bike?e.AvailableRentBikes:e.AvailableReturnBikes,r)}),[e.AvailableRentBikes,e.AvailableReturnBikes,e.ServiceStatus,t,r]);return Object(F.jsx)(Rt.a,{icon:o,position:[e.StationPosition.PositionLat,e.StationPosition.PositionLon],eventHandlers:{click:function(){i.flyTo([e.StationPosition.PositionLat,e.StationPosition.PositionLon])}},children:Object(F.jsx)(Kt,{station:e})})}},Qt=v.d.i(_e||(_e=Object(y.a)(["\n  color: ",";\n  font-size: 12px;\n  font-weight: bold;\n  transform: translate(7px, -39px);\n"])),(function(n){return n.color})),Yt=function(){var n=Dt.colors.accent[400];return Object(F.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 58 77",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(F.jsx)("path",{d:"M28.8003 0C12.9207 0 0.000293201 12.9204 0.000293201 28.782C-0.104107 51.984 27.7059 71.2224 28.8003 72C28.8003 72 57.7047 51.984 57.6003 28.8C57.6003 12.9204 44.6799 0 28.8003 0ZM28.8003 43.2C20.8443 43.2 14.4003 36.756 14.4003 28.8C14.4003 20.844 20.8443 14.4 28.8003 14.4C36.7563 14.4 43.2003 20.844 43.2003 28.8C43.2003 36.756 36.7563 43.2 28.8003 43.2Z",fill:n}),Object(F.jsx)("circle",{cx:"29",cy:"29",r:"19",fill:"#fff"}),Object(F.jsx)(Qt,{className:"fas fa-biking",color:n})]})},Vt=function(n){var e=n.routeSection,t=Object(sn.a)(),i=an.a.divIcon({iconSize:[30,40],iconAnchor:[15,40],html:Ht.a.renderToString(Object(F.jsx)(Yt,{}))});return Object(F.jsx)(Rt.a,{icon:i,position:e,eventHandlers:{click:function(){t.flyTo(e)}}})},ni=t(100),ei=function(n){var e=n.polyline,t=Object(x.useMemo)((function(){return{weight:5,color:Dt.colors.accent[500]}}),[]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Vt,{routeSection:e[0]}),Object(F.jsx)(Vt,{routeSection:e[e.length-1]}),Object(F.jsx)(ni.a,{pathOptions:t,positions:e})]})},ti=function(){var n=Object(W.b)(),e=Object(x.useRef)(null),t=Object(x.useState)(null),i=Object(z.a)(t,2),r=i[0],o=i[1],a=Object(W.c)((function(n){return n.station})).data,c=Object(W.c)((function(n){return n.route})).current,s=Object(W.c)((function(n){return n.geolocation})),l=s.position,u=s.center,d=Object(W.c)((function(n){return n.displayType})).type;return Object(x.useEffect)((function(){a.length>0&&r&&r.flyTo(u,16,{animate:!1})}),[a,u,r]),Object(x.useEffect)((function(){c&&r&&r.flyTo(c.Routes[0][0],16,{animate:!1})}),[r,c]),Object(x.useEffect)((function(){null===e.current&&l&&r&&(/\/bicycle$/.test(window.location.pathname)?n(V({position:l})):r.flyTo(l,16,{animate:!1})),e.current=l}),[l,n,r]),Object(F.jsxs)(X.a,{style:{height:"100%",width:"100%"},center:u,zoom:8,whenCreated:o,scrollWheelZoom:!0,zoomControl:!1,children:[Object(F.jsx)(cn,{children:Object(F.jsxs)(E.d,{children:[Object(F.jsx)(E.b,{path:"/",element:Object(F.jsx)(E.a,{to:h.Bicycle,replace:!0})}),Object(F.jsx)(E.b,{path:h.Bicycle,element:Object(F.jsx)(ut,{})}),Object(F.jsx)(E.b,{path:h.Routes,element:Object(F.jsx)(Bt,{})})]})}),Object(F.jsx)(K.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://a.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),l&&Object(F.jsx)(Gt.PositionMarker,{position:l}),a.map((function(n){return Object(F.jsx)(Gt.StationMarker,{type:d,station:n},n.StationID)})),c&&c.Routes.map((function(n,e){return Object(F.jsx)(ei,{polyline:n},"route-".concat(e))}))]})},ii=v.d.div(He||(He=Object(y.a)(["\n  position: relative;\n  width: 100vw;\n  height: calc(100vh - ",");\n\n  ","\n"])),(function(n){return n.theme.layout.headerHeight.default}),S("md")(Ie||(Ie=Object(y.a)(["\n    height: calc(100vh - ",");\n  "])),(function(n){return n.theme.layout.headerHeight.md}))),ri=function(){return Object(F.jsxs)(C.a,{basename:"/F2E2021-taiwan-bicycle-travel",children:[Object(F.jsx)(U,{}),Object(F.jsx)(ii,{children:Object(F.jsx)(ti,{})})]})},oi=t(59),ai=t(14),ci=Object(ai.b)({station:rn,geolocation:ot,displayType:Pn,route:Nt}),si=t(19),li=t.n(si),ui=t(13),di=t(20),pi=t(37),bi=t.n(pi),fi=t(58),ji=new(t.n(fi).a.Wkt),hi=bi.a.create({baseURL:"https://tdx.transportdata.tw/api"}),xi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=n.map((function(n){return n+" ne null"})).join(" and "),i=e.map((function(n){return"(".concat(n.searchFields.map((function(e){return"contains(".concat(e,", '").concat(n.keyword,"')")})).join(" or "),")")})).join(" and ");return[t,i].filter((function(n){return n})).join(" and ")},mi=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return"nearby(".concat(n[0],",").concat(n[1],",").concat(e,")")},gi=function(n){var e=ji.read(n.Geometry).toJson().coordinates.filter((function(n){return n[0]&&Array.isArray(n[0])})).map((function(n){return n.map((function(n){return n.reverse()}))}));return Object(di.a)(Object(di.a)({},n),{},{Routes:e})},Oi=["StationID","StationName/Zh_tw","StationPosition/PositionLon","StationPosition/PositionLat"],yi=["StationName/Zh_tw","StationAddress/Zh_tw"],vi=function(n){var e=n.$format,t=void 0===e?"JSON":e,i=n.$filter,r=n.city;return hi.get("/basic/v2/Bike/Station/City/".concat(r),{params:{$format:t,$filter:i}})},wi=function(n){var e=n.$format,t=void 0===e?"JSON":e,i=n.$spatialFilter,r=n.$filter;return hi.get("/advanced/v2/Bike/Station/NearBy",{params:{$format:t,$spatialFilter:i,$filter:r}})},ki=["StationID","ServiceStatus","AvailableRentBikes","AvailableReturnBikes"],Si=function(n){var e=n.$format,t=void 0===e?"JSON":e,i=n.$filter,r=n.city;return hi.get("/basic/v2/Bike/Availability/City/".concat(r),{params:{$format:t,$filter:i}})},Ci=function(n){var e=n.$format,t=void 0===e?"JSON":e,i=n.$spatialFilter;return hi.get("/advanced/v2/Bike/Availability/NearBy",{params:{$format:t,$spatialFilter:i}})},zi=li.a.mark(Bi),Ni=li.a.mark(Ri);function Bi(n){var e,t,i,r,o,a;return li.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=n.payload,c.prev=1,!("position"in e)){c.next=11;break}return c.next=5,Object(ui.b)(wi,{$filter:xi(Oi),$spatialFilter:mi(e.position)});case 5:return t=c.sent,c.next=8,Object(ui.b)(Ci,{$filter:xi(ki),$spatialFilter:mi(e.position)});case 8:i=c.sent,c.next=18;break;case 11:return r=e.keyword,o=e.city,c.next=14,Object(ui.b)(vi,{$filter:xi(Oi,[{keyword:r,searchFields:yi}]),city:o});case 14:return t=c.sent,c.next=17,Object(ui.b)(Si,{$filter:xi(ki),city:o});case 17:i=c.sent;case 18:return a=t.data.reduce((function(n,e){var t=i.data.findIndex((function(n){return n.StationID===e.StationID}));return t>-1&&n.push(Object.assign(e,i.data[t])),n}),[]),c.next=21,Object(ui.d)(nn({data:a}));case 21:if(!("position"in e)){c.next=26;break}return c.next=24,Object(ui.d)(rt({center:e.position}));case 24:c.next=29;break;case 26:if(!(a.length>0)){c.next=29;break}return c.next=29,Object(ui.d)(rt({center:[a[0].StationPosition.PositionLat,a[0].StationPosition.PositionLon]}));case 29:c.next=35;break;case 31:return c.prev=31,c.t0=c.catch(1),c.next=35,Object(ui.d)(en({error:c.t0}));case 35:case"end":return c.stop()}}),zi,null,[[1,31]])}function Ri(){return li.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ui.e)(V,Bi);case 2:case"end":return n.stop()}}),Ni)}var Ai=Ri,Li=["Town","RoadSectionStart","RoadSectionEnd","Direction","CyclingLength"],Pi=["RoadSectionStart","RoadSectionEnd","RouteName"],Ei=["Town"],Fi=function(n){var e=n.$format,t=void 0===e?"JSON":e,i=n.$filter,r=n.city;return hi.get("/basic/v2/Cycling/Shape/City/".concat(r),{params:{$format:t,$filter:i}})},Di=li.a.mark($i),Ti=li.a.mark(Mi);function $i(n){var e,t,i,r,o,a;return li.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e=n.payload,c.prev=1,t=e.keyword,i=e.city,c.next=5,Object(ui.b)(Fi,{$filter:xi(Li,[{keyword:t,searchFields:Pi},{keyword:t,searchFields:Ei}]),city:i});case 5:return r=c.sent,o=r.data,a=o.map(gi),c.next=10,Object(ui.d)(kt({data:a}));case 10:return c.next=12,Object(ui.d)(zt({route:a[0]}));case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(ui.d)(St({error:c.t0}));case 18:case"end":return c.stop()}}),Di,null,[[1,14]])}function Mi(){return li.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ui.e)(wt,$i);case 2:case"end":return n.stop()}}),Ti)}var _i=Mi,Hi=bi.a.create({baseURL:"https://tdx.transportdata.tw/auth/realms/TDXConnect/protocol/openid-connect/token"}),Ii=function(){return new Promise((function(n,e){if(hi.defaults.headers.common.Authorization)n(hi.defaults.headers.common.Authorization);else{var t=new URLSearchParams;t.append("grant_type","client_credentials"),t.append("client_id","jason71708-517d64f2-f5b4-4d31"),t.append("client_secret","5356d0fe-6aef-4592-8d90-67edfa355c93"),Hi.post("",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){hi.defaults.headers.common.Authorization="Bearer ".concat(e.data.access_token),n(e.data.access_token)})).catch((function(n){e(n)}))}}))},Zi=li.a.mark(Ji);function Ji(){return li.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ui.b)(Ii);case 2:return n.next=4,Object(ui.a)([Object(ui.c)(Ai),Object(ui.c)(_i)]);case 4:case"end":return n.stop()}}),Zi)}var qi=Object(oi.a)(),Ui=Object(G.a)({reducer:ci,middleware:function(n){return n().concat(qi)},devTools:!1});qi.run(Ji);var Xi,Ki=Ui,Wi=Object(v.b)(Xi||(Xi=Object(y.a)(['\n  * {\n    box-sizing: border-box;\n  }\n  html {\n    line-height: 1.15;\n    -webkit-text-size-adjust: 100%;\n  }\n  body {\n    margin: 0;\n  }\n  main {\n    display: block;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n  h1, h2, h3, h4, h5, h6, p {\n    margin: 0;\n    font-weight: normal;\n  }\n  hr {\n    box-sizing: content-box;\n    height: 0;\n    overflow: visible;\n  }\n  pre {\n    font-family: monospace, monospace;\n    font-size: 1em;\n  }\n  a {\n    background-color: transparent;\n  }\n  a:visited {\n    color: inherit;\n  }\n  a:-webkit-any-link {\n    color: inherit;\n  }\n  abbr[title] {\n    border-bottom: none;\n    text-decoration: underline;\n    text-decoration: underline dotted;\n  }\n  b,\n  strong {\n    font-weight: bolder;\n  }\n  code,\n  kbd,\n  samp {\n    font-family: monospace, monospace;\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  img {\n    border-style: none;\n  }\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit;\n    font-size: 100%;\n    line-height: 1.15;\n    margin: 0;\n    border:none;\n    background-image:none;\n    background-color:transparent;\n    box-shadow: none;\n    color: inherit;\n  }\n  button,\n  input {\n    overflow: visible;\n  }\n  input {\n    outline: none;\n  }\n  button,\n  select {\n    text-transform: none;\n    outline: none;\n  }\n  button,\n  [type="button"],\n  [type="reset"],\n  [type="submit"] {\n    -webkit-appearance: button;\n    padding: 0;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n  }\n  button::-moz-focus-inner,\n  [type="button"]::-moz-focus-inner,\n  [type="reset"]::-moz-focus-inner,\n  [type="submit"]::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n  button:-moz-focusring,\n  [type="button"]:-moz-focusring,\n  [type="reset"]:-moz-focusring,\n  [type="submit"]:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n  fieldset {\n    padding: 0.35em 0.75em 0.625em;\n  }\n  legend {\n    box-sizing: border-box;\n    color: inherit;\n    display: table;\n    max-width: 100%;\n    padding: 0;\n    white-space: normal;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  textarea {\n    overflow: auto;\n  }\n  [type="checkbox"],\n  [type="radio"] {\n    box-sizing: border-box;\n    padding: 0;\n  }\n  [type="number"]::-webkit-inner-spin-button,\n  [type="number"]::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [type="search"] {\n    -webkit-appearance: textfield;\n    outline-offset: -2px;\n  }\n  [type="search"]::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button;\n    font: inherit;\n  }\n  details {\n    display: block;\n  }\n  summary {\n    display: list-item;\n  }\n  template {\n    display: none;\n  }\n  [hidden] {\n    display: none;\n  }\n  .leaflet-tooltip {\n    background-color: '," !important;\n    border-color: "," !important;\n  }\n  .leaflet-tooltip-top:before {\n    border-top-color: "," !important;\n  }\n  .leaflet-tooltip-bottom:before {\n    border-bottom-color: "," !important;\n  }\n  .leaflet-tooltip-left:before {\n    border-left-color: "," !important;\n  }\n  .leaflet-tooltip-right:before {\n    border-right-color: "," !important;\n  }\n  .leaflet-popup-tip {\n    display: none;\n  }\n  .leaflet-div-icon {\n    background-color: transparent !important;\n    border: none !important;\n  }\n  .leaflet-popup-scrolled {\n    border: none !important;\n  }\n  .leaflet-bottom {\n    z-index: 401 !important;\n  }\n"])),Dt.colors.grey[700],Dt.colors.grey[700],Dt.colors.grey[700],Dt.colors.grey[700],Dt.colors.grey[700],Dt.colors.grey[700]);O.a.render(Object(F.jsx)(m.a.StrictMode,{children:Object(F.jsx)(v.a,{theme:Dt,children:Object(F.jsxs)(W.a,{store:Ki,children:[Object(F.jsx)(Wi,{}),Object(F.jsx)(ri,{})]})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.7eb8cab3.chunk.js.map