(this["webpackJsonpf2e2021-taiwan-bicycle-travel"]=this["webpackJsonpf2e2021-taiwan-bicycle-travel"]||[]).push([[0],{88:function(n,t,e){"use strict";e.r(t);var i,o,r,a,c,s,l,u,d,p,b,h,f,j=e(0),x=e.n(j),m=e(21),g=e.n(m),y=e(4),O=e(3),v=e(47),k={xs:0,sm:360,md:768,lg:1280,xl:1440},w=Object(v.a)(k),S=e(28),C=e(10),z=O.d.section(i||(i=Object(y.a)(["\n  position: relative;\n  width: 100vw;\n  background-color: ",";\n  text-align: center;\n"])),(function(n){return n.theme.colors.primary[400]})),B=O.d.div(o||(o=Object(y.a)(["\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: ",";\n  padding: 10px 20px;\n\n  ","\n"])),(function(n){return n.theme.layout.headerHeight.default}),w("md")(r||(r=Object(y.a)(["\n    padding: 20px 72px;\n    height: ",";\n  "])),(function(n){return n.theme.layout.headerHeight.md}))),A=O.d.img(a||(a=Object(y.a)(["\n  width: 105px;\n\n  ","\n"])),w("md")(c||(c=Object(y.a)(["\n    width: 210px;\n  "])))),N=O.d.button(s||(s=Object(y.a)(["\n  color: ",";\n  cursor: pointer;\n"])),(function(n){return n.theme.colors.grey[100]})),P=O.d.nav(l||(l=Object(y.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  background-color: ",";\n  padding: 8px 0;\n  color: ",";\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 401;\n\n  ","\n\n  & a {\n    text-decoration: none;\n    flex: 1 0 auto;\n\n    &:nth-child(1n+2) {\n      border-left: 1px solid ",";\n\n      ","\n    }\n  }\n\n"])),(function(n){return n.theme.colors.primary[100]}),(function(n){return n.theme.colors.primary[400]}),w("md")(u||(u=Object(y.a)(["\n    position: static;\n    width: auto;\n    background-color: transparent;\n  "]))),(function(n){return n.theme.colors.primary[400]}),w("md")(d||(d=Object(y.a)(["\n        border-left: none;\n      "])))),D=O.d.span(p||(p=Object(y.a)(["\n  text-align: center;\n  padding: 4px 0;\n  font-weight: 700;\n  font-size: 12px;\n  transition: background-color 0.2s linear;\n\n  ","\n\n  & i {\n    display: block;\n\n    ","\n  }\n"])),w("md")(b||(b=Object(y.a)(["\n    display: inline-block;\n    background-color: ",";\n    border-radius: 8px;\n    box-shadow: 0 0 0 ","px ",";\n    padding: 8px 16px;\n    margin-left: 16px;\n    font-size: 16px;\n\n    &:hover {\n      box-shadow: 0 0 0 3px ",";\n    }\n  "])),(function(n){return n.match?n.theme.colors.primary[100]:n.theme.colors.grey[100]}),(function(n){return n.match?"3":"1"}),(function(n){return n.theme.colors.primary[300]}),(function(n){return n.theme.colors.primary[300]})),w("md")(h||(h=Object(y.a)(["\n      display: inline-block;\n      margin-right: 4px;\n    "])))),F=e(8);!function(n){n.Bicycle="/bicycle",n.Routes="/routes",n.Scenics="/scenics"}(f||(f={}));var T=e(1),E=function(){var n=Object(F.f)();return Object(T.jsx)(P,{children:Object(T.jsx)(S.b,{to:f.Bicycle,children:Object(T.jsxs)(D,{match:n.pathname===f.Bicycle,children:[Object(T.jsx)("i",{className:"fas fa-bicycle"}),"\u627e\u55ae\u8eca"]})})})},$=e(51);var R,L,M,I,H,Z,_,J,q=function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object($.useMediaQuery)({query:"(".concat(t?"min-width":"max-width",": ").concat(k[n],"px)")})},U=function(){var n=q("md"),t=Object(j.useState)(!1),e=Object(C.a)(t,2),i=e[0],o=e[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(z,{children:[Object(T.jsxs)(B,{children:[Object(T.jsx)(A,{src:"./logo.png",alt:"logo"}),n?Object(T.jsx)(E,{}):Object(T.jsx)(N,{onClick:function(){return o(!i)},children:Object(T.jsx)("i",{className:"fas fa-bars"})})]}),i&&!n&&Object(T.jsx)(E,{})]})})},X=e(95),K=e(96),Q=e(12),W=e(19),G=Object(W.b)({name:"station",initialState:{pedding:!1,data:[],error:null},reducers:{request:function(n,t){n.pedding=!0},success:function(n,t){n.pedding=!1,n.data=t.payload.data,n.error=null},failure:function(n,t){n.pedding=!1,n.error=t.payload.error}}}),V=G.actions,Y=V.request,nn=V.success,tn=V.failure,en=G.reducer,on=e(91);!function(n){n.Limited="Limited",n.Disabled="Disabled",n.Default="Default"}(R||(R={})),function(n){n.Bike="Bike",n.Parking="Parking"}(L||(L={})),function(n){n[n["\u505c\u6b62\u71df\u904b"]=0]="\u505c\u6b62\u71df\u904b",n[n["\u6b63\u5e38\u71df\u904b"]=1]="\u6b63\u5e38\u71df\u904b",n[n["\u66ab\u505c\u71df\u904b"]=2]="\u66ab\u505c\u71df\u904b"}(M||(M={}));var rn,an,cn,sn,ln,un,dn,pn,bn,hn,fn,jn,xn,mn,gn,yn,On,vn,kn,wn,Sn,Cn,zn,Bn,An,Nn,Pn,Dn,Fn=Object(O.c)(I||(I=Object(y.a)(["\n  box-shadow: 4px 4px 20px 0 ","30;\n"])),(function(n){return n.theme.colors.grey[500]})),Tn=Object(O.c)(H||(H=Object(y.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  display: -webkit-box;\n  -webkit-line-clamp: ",";\n  -webkit-box-orient: vertical;\n"])),(function(n){return n.lineLimit})),En=Object(O.e)(Z||(Z=Object(y.a)(["\nfrom {\n  transform: rotate(0deg);\n}\n\nto {\n  transform: rotate(360deg);\n}\n"]))),$n=Object(O.c)(_||(_=Object(y.a)(["\n  animation: "," 2s linear infinite;\n"])),En),Rn=Object(O.c)(J||(J=Object(y.a)(["\n  color: ",";\n  background-color: ",";\n"])),(function(n){return n.status===R.Default?n.theme.colors.primary[500]:n.status===R.Limited?n.theme.colors.alert[600]:n.theme.colors.grey[400]}),(function(n){return n.status===R.Default?n.theme.colors.primary[100]:n.status===R.Limited?n.theme.colors.alert[100]:n.theme.colors.grey[200]})),Ln=O.d.section(rn||(rn=Object(y.a)(["\n  position: absolute;\n  top: 36px;\n  left: 36px;\n  z-index: 401; // In order to biger than Map's z-index\n  width: 430px;\n  height: calc(100% - 72px);\n  background-color: ",";\n  padding: 28px;\n  border-radius: 8px;\n  cursor: initial;\n  overflow: hidden;\n  ","\n"])),(function(n){return n.theme.colors.grey[100]}),Fn),Mn=O.d.div(an||(an=Object(y.a)(["\n  margin-bottom: 28px;\n  display: flex;\n  align-items: center;\n"]))),In=O.d.ul(cn||(cn=Object(y.a)(["\n  width: 100%;\n  height: calc(100% - 36px - 28px);\n  overflow: auto;\n  padding-right: 12px;\n"]))),Hn=O.d.div(sn||(sn=Object(y.a)(["\n  position: relative;\n  padding: 8px 48px 8px 20px;\n  margin-left: 12px;\n  flex: 1 0 auto;\n  background-color: ",";\n  color: ",";\n  border-radius: 8px;\n  font-weight: bold;\n  font-size: 14px;\n"])),(function(n){return n.theme.colors.grey[200]}),(function(n){return n.theme.colors.grey[600]})),Zn=O.d.input(ln||(ln=Object(y.a)(["\n  width: 100%;\n  height: 100%;\n"]))),_n=O.d.button(un||(un=Object(y.a)(["\n  position: absolute;\n  right: 20px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 20px;\n  color: ",";\n"])),(function(n){return n.theme.colors.grey[600]})),Jn=O.d.select(dn||(dn=Object(y.a)(["\n  width: 100px;\n  padding: 8px 12px;\n  font-size: 15px;\n  line-height: 20px;\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n"])),(function(n){return n.theme.colors.primary[600]}),(function(n){return n.theme.colors.primary[400]})),qn=[{CityName:"\u81fa\u5317\u5e02",City:"Taipei"},{CityName:"\u65b0\u5317\u5e02",City:"NewTaipei"},{CityName:"\u6843\u5712\u5e02",City:"Taoyuan"},{CityName:"\u81fa\u4e2d\u5e02",City:"Taichung"},{CityName:"\u81fa\u5357\u5e02",City:"Tainan"},{CityName:"\u9ad8\u96c4\u5e02",City:"Kaohsiung"},{CityName:"\u65b0\u7af9\u5e02",City:"Hsinchu"},{CityName:"\u82d7\u6817\u7e23",City:"MiaoliCounty"},{CityName:"\u5609\u7fa9\u5e02",City:"Chiayi"},{CityName:"\u5c4f\u6771\u7e23",City:"PingtungCounty"},{CityName:"\u91d1\u9580\u7e23",City:"KinmenCounty"}],Un={type:L.Bike},Xn=Object(W.b)({name:"displayType",initialState:Un,reducers:{update:function(n,t){n.type=t.payload.type}}}),Kn=Xn.actions.update,Qn=Xn.reducer,Wn=O.d.li(pn||(pn=Object(y.a)(["\n  display: block;\n  padding-bottom: 20px;\n  border-bottom: 1px solid ",";\n\n  &:nth-child(n+2) {\n    padding-top: 20px;\n  }\n"])),(function(n){return n.theme.colors.grey[300]})),Gn=O.d.h1(bn||(bn=Object(y.a)(["\n  ","\n  font-size: 22px;\n  line-height: 26px;\n  font-weight: 700;\n  color: ",";\n"])),Tn,(function(n){return n.theme.colors.primary[500]})),Vn=O.d.div(hn||(hn=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 12px;\n"]))),Yn=O.d.button(fn||(fn=Object(y.a)(["\n  ","\n  flex: 1 0 auto;\n  text-align: center;\n  padding: 8px 0;\n  border-radius: 8px;\n\n  &:nth-child(n+2) {\n    margin-left: 20px;\n  }\n"])),Rn),nt=O.d.span(jn||(jn=Object(y.a)(["\n  display: block;\n  font-size: 15px;\n  line-height: 20px;\n  font-weight: 500;\n\n  & i {\n    margin-right: 4px;\n  }\n"]))),tt=O.d.span(xn||(xn=Object(y.a)(["\n  display: block;\n  font-size: 26px;\n  margin-top: 4px;\n  line-height: 32px;\n  font-weight: 700;\n"]))),et=O.d.span(mn||(mn=Object(y.a)(["\n  font-size: 15px;\n  font-weight: 500;\n  line-height: 20px;\n  border-radius: 6px;\n  color: ",";\n\n  & i {\n    margin-right: 6px;\n  }\n"])),(function(n){return n.theme.colors.grey[500]})),it=Object(O.d)(et)(gn||(gn=Object(y.a)(["\n  padding: 6px 12px;\n  border: 1px solid ",";\n"])),(function(n){return n.theme.colors.grey[500]})),ot=function(n,t){return 1!==n?R.Disabled:t>5?R.Default:t>0?R.Limited:R.Disabled},rt=function(n){var t=n.station,e=n.badgeClick;return Object(T.jsxs)(Wn,{children:[Object(T.jsx)(Gn,{lineLimit:1,children:t.StationName.Zh_tw.split("_")[1]}),Object(T.jsxs)(Vn,{children:[Object(T.jsxs)(Yn,{"data-type":"rent",status:ot(t.ServiceStatus,t.AvailableRentBikes),onClick:function(){return e(L.Bike,t)},children:[Object(T.jsxs)(nt,{children:[Object(T.jsx)("i",{className:"fas fa-bicycle"}),"\u53ef\u79df\u501f"]}),Object(T.jsx)(tt,{children:t.AvailableRentBikes})]}),Object(T.jsxs)(Yn,{"data-type":"return",status:ot(t.ServiceStatus,t.AvailableReturnBikes),onClick:function(){return e(L.Parking,t)},children:[Object(T.jsxs)(nt,{children:[Object(T.jsx)("i",{className:"fas fa-parking"}),"\u53ef\u505c\u8eca"]}),Object(T.jsx)(tt,{children:t.AvailableReturnBikes})]})]}),Object(T.jsxs)(Vn,{children:[Object(T.jsx)(it,{children:t.StationName.Zh_tw.split("_")[0]}),Object(T.jsxs)(et,{children:[Object(T.jsx)("i",{className:"fas fa-lightbulb"}),M[t.ServiceStatus]]})]})]})},at=function(){var n=Object(on.a)(),t=Object(Q.b)(),e=Object(Q.c)((function(n){return n.displayType})).type,i=Object(Q.c)((function(n){return n.station})),o=i.pedding,r=i.data,a=i.error,c=Object(j.useState)(""),s=Object(C.a)(c,2),l=s[0],u=s[1],d=Object(j.useState)(qn[0].City),p=Object(C.a)(d,2),b=p[0],h=p[1],f=function(i,o){e!==i&&t(Kn({type:i})),n.flyTo([o.StationPosition.PositionLat,o.StationPosition.PositionLon],18,{animate:!1})};return Object(T.jsxs)(Ln,{children:[Object(T.jsxs)(Mn,{children:[Object(T.jsx)(Jn,{onChange:function(n){return h(n.target.value)},children:qn.map((function(n){return Object(T.jsx)("option",{value:n.City,children:n.CityName},n.City)}))}),Object(T.jsxs)(Hn,{children:[Object(T.jsx)(Zn,{type:"text",value:l,placeholder:"\u641c\u5c0b\u7ad9\u9ede",onChange:function(n){return u(n.target.value)},onKeyPress:function(n){"Enter"===n.key&&function(n,e){t(Y({keyword:n,city:e}))}(l,b)}}),Object(T.jsx)(_n,{children:Object(T.jsx)("i",{className:"fas fa-search"})})]})]}),Object(T.jsxs)(In,{children:[o&&Object(T.jsx)("h1",{children:"Loading"}),a&&Object(T.jsx)("h1",{children:"\u4f3a\u670d\u5668\u932f\u8aa4"}),!o&&!a&&(r.length>0?r.map((function(n){return Object(T.jsx)(rt,{station:n,badgeClick:f},n.StationID)})):Object(T.jsx)("div",{children:"\u7121\u641c\u5c0b\u7d50\u679c"}))]})]})},ct=e(52),st=O.d.button(yn||(yn=Object(y.a)(["\n  position: absolute;\n  top: 36px;\n  left: calc(50% - 20px);\n  width: 40px;\n  height: 40px;\n  border-radius: 100%;\n  background-color: ",";\n  color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 401; // In order to biger than Map's z-index\n  font-size: 20px;\n  ","\n  ","\n\n  &:hover {\n    border: 3px solid ",";\n  }\n\n  ","\n"])),(function(n){return n.active?n.theme.colors.primary[400]:n.theme.colors.grey[300]}),(function(n){return n.theme.colors.grey[100]}),Fn,(function(n){return n.locating?$n:""}),(function(n){return n.theme.colors.primary[500]}),w("md")(On||(On=Object(y.a)(["\n    left: calc(50% - 30px);\n    font-size: 30px;\n    width: 60px;\n    height: 60px;\n  "])))),lt=Object(W.b)({name:"geolocation",initialState:{position:null},reducers:{update:function(n,t){n.position=t.payload.position},reset:function(n){n.position=null}}}),ut=lt.actions,dt=ut.update,pt=(ut.reset,lt.reducer),bt=function(){var n=Object(j.useState)(null),t=Object(C.a)(n,2),e=(t[0],t[1]),i=Object(j.useState)(!1),o=Object(C.a)(i,2),r=o[0],a=o[1],c=Object(Q.b)(),s=Object(Q.c)((function(n){return n.geolocation.position})),l=function(){a(!0);var n=navigator.geolocation.watchPosition((function(n){c(dt({position:[n.coords.latitude,n.coords.longitude]})),a(!1)}),(function(n){alert("Unable to retrieve your location"),a(!1)}));e(n)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(st,{"data-tip":!0,"data-for":"postitionButton",active:!!s,locating:r,onClick:function(){"geolocation"in navigator?s?c(Y({position:s})):l():alert("Geolocation is not supported by your browser")},children:Object(T.jsx)("i",{className:"fas fa-crosshairs"})}),Object(T.jsx)(ct.a,{id:"postitionButton",place:"right",type:"dark",effect:"solid",children:"\u641c\u5c0b\u9644\u8fd1"})]})},ht=O.d.div(vn||(vn=Object(y.a)(["\n  position: absolute;\n  padding: 8px 12px;\n  top: calc(36px + 60px + 12px);\n  left: calc(50% - 140px);\n  width: 280px;\n  height: 60px;\n  cursor: pointer;\n  z-index: 401; // In order to biger than Map's z-index\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: 999px;\n"])),Fn,(function(n){return n.theme.colors.grey[100]})),ft=O.d.button(kn||(kn=Object(y.a)(["\n  flex: 1 0 auto;\n  width: 50%;\n  height: 100%;\n  border-radius: 999px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  font-size: 18px;\n\n  & i {\n    margin-right: 8px;\n  }\n"])),(function(n){return n.active?n.theme.colors.grey[100]:n.theme.colors.primary[400]}),(function(n){return n.active?n.theme.colors.primary[400]:n.theme.colors.grey[100]})),jt=function(){var n=Object(Q.b)(),t=Object(Q.c)((function(n){return n.displayType})).type,e=function(e){t!==e&&n(Kn({type:e}))};return Object(T.jsxs)(ht,{children:[Object(T.jsxs)(ft,{active:t===L.Bike,onClick:function(){return e(L.Bike)},children:[Object(T.jsx)("i",{className:"fas fa-bicycle"}),"\u627e\u55ae\u8eca"]}),Object(T.jsxs)(ft,{active:t===L.Parking,onClick:function(){return e(L.Parking)},children:[Object(T.jsx)("i",{className:"fas fa-parking"}),"\u627e\u8eca\u4f4d"]})]})},xt=e(11),mt=e.n(xt),gt=function(){var n=Object(j.useRef)(null),t=Object(j.useCallback)((function(){n.current?(mt.a.DomEvent.disableClickPropagation(n.current),mt.a.DomEvent.disableScrollPropagation(n.current)):setTimeout((function(){t()}),100)}),[]);return Object(j.useEffect)((function(){t()}),[t]),Object(T.jsxs)("div",{ref:n,children:[Object(T.jsx)(at,{}),Object(T.jsx)(jt,{}),Object(T.jsx)(bt,{})]})},yt=e(92),Ot=e(93),vt=O.d.div(wn||(wn=Object(y.a)(["\n  color: ",";\n  padding: 4px 12px;\n  font-size: 14px;\n"])),(function(n){return n.theme.colors.grey[100]})),kt=e.p+"static/media/dribbble-unscreen.04671d5f.gif",wt=new mt.a.icon({iconUrl:kt,iconSize:[120,90],iconAnchor:[60,45],popupAnchor:[1,-90]}),St=function(n){var t=n.position;return Object(T.jsx)(yt.a,{"data-tip":!0,"data-for":"postitionMarker",icon:wt,position:t,children:Object(T.jsx)(Ot.a,{offset:[20,0],children:Object(T.jsx)(vt,{children:"\u73fe\u5728\u4f4d\u7f6e"})})})},Ct={layout:{headerHeight:{default:"36px",md:"75px"}},typography:{h1:"45px",h2:"36px",h3:"32px",h4:"36px",h5:"22px",content:"18px",button:"15px",caption:"12px"},colors:{primary:{100:"#DFE4CE",200:"#CBD3B0",300:"#A4B375",400:"#738047",500:"#474F2C",600:"#292E19"},accent:{100:"#FAF0E5",200:"#F5DFC6",300:"#EABD8A",400:"#DE994A",500:"#C67A24",600:"#A3651E"},alert:{100:"#F7D4DD",200:"#F1B2C1",300:"#F27594",400:"#E75578",500:"#BC3253",600:"#8C3046"},grey:{100:"#FFFFFF",200:"#EEEEEE",300:"#C5C5C5",400:"#9A9A9A",500:"#767676",600:"#464646",700:"#222222"}}},zt=e(35),Bt=O.d.text(Sn||(Sn=Object(y.a)(["\n  fill: ",";\n  font-size:24px;\n  font-weight: bold;\n  transform: ",";\n"])),(function(n){return n.color}),(function(n){return n.isOverTen?"translateX(-14px)":"translateX(-7px)"})),At=function(n){var t=n.status,e=n.quantity,i=Object(j.useMemo)((function(){return t===R.Default?Ct.colors.primary[400]:t===R.Limited?Ct.colors.alert[400]:Ct.colors.grey[400]}),[t]),o=Object(j.useMemo)((function(){return t===R.Default?Object(zt.a)(.2,Ct.colors.primary[400]):t===R.Limited?Object(zt.a)(.2,Ct.colors.alert[400]):Object(zt.a)(.2,Ct.colors.grey[400])}),[t]);return Object(T.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 58 77",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(T.jsx)("ellipse",{cx:"29",cy:"72.5",rx:"15",ry:"4.5",fill:o}),Object(T.jsx)("path",{d:"M28.8003 0C12.9207 0 0.000293201 12.9204 0.000293201 28.782C-0.104107 51.984 27.7059 71.2224 28.8003 72C28.8003 72 57.7047 51.984 57.6003 28.8C57.6003 12.9204 44.6799 0 28.8003 0ZM28.8003 43.2C20.8443 43.2 14.4003 36.756 14.4003 28.8C14.4003 20.844 20.8443 14.4 28.8003 14.4C36.7563 14.4 43.2003 20.844 43.2003 28.8C43.2003 36.756 36.7563 43.2 28.8003 43.2Z",fill:i}),Object(T.jsx)("circle",{cx:"29",cy:"29",r:"19",fill:"#fff"}),Object(T.jsx)(Bt,{x:"50%",y:"47%",color:i,isOverTen:e>=10,children:e})]})},Nt=e(53),Pt=e.n(Nt),Dt=e(94),Ft=O.d.h1(Cn||(Cn=Object(y.a)(["\n  font-size: 18px;\n  font-weight: 700;\n  line-height: 1.5;\n  color: ",";\n"])),(function(n){return n.theme.colors.primary[500]})),Tt=O.d.div(zn||(zn=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &:nth-child(n+2) {\n    margin-top: 8px;\n  }\n"]))),Et=O.d.span(Bn||(Bn=Object(y.a)(["\n  color: ",";\n  font-size: 15px;\n  font-weight: 500;\n  line-height: 20px;\n\n  & i {\n    margin-right: 6px;\n  }\n"])),(function(n){return n.theme.colors.grey[500]})),$t=O.d.div(An||(An=Object(y.a)(["\n  display: flex;\n  align-items: center;\n"]))),Rt=O.d.span(Nn||(Nn=Object(y.a)(["\n  ","\n  font-size: 15px;\n  font-weight: 700;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 70px;\n  height: 30px;\n  padding: 0 12px;\n  border-radius: 4px;\n\n  &:nth-child(n+2) {\n    margin-left: 12px;\n  }\n"])),Rn),Lt=function(n){var t=n.station;return Object(T.jsxs)(Dt.a,{closeButton:!1,minWidth:350,maxHeight:100,children:[Object(T.jsxs)(Tt,{children:[Object(T.jsx)(Ft,{children:t.StationName.Zh_tw.split("_")[1]}),Object(T.jsx)(Et,{children:t.StationName.Zh_tw.split("_")[0]})]}),Object(T.jsxs)(Tt,{children:[Object(T.jsxs)($t,{children:[Object(T.jsxs)(Rt,{status:ot(t.ServiceStatus,t.AvailableRentBikes),children:[Object(T.jsx)("i",{className:"fas fa-bicycle"}),t.AvailableRentBikes]}),Object(T.jsxs)(Rt,{status:ot(t.ServiceStatus,t.AvailableReturnBikes),children:[Object(T.jsx)("i",{className:"fas fa-parking"}),t.AvailableReturnBikes]})]}),Object(T.jsxs)(Et,{children:[Object(T.jsx)("i",{className:"fas fa-lightbulb"}),M[t.ServiceStatus]]})]})]})},Mt=function(n,t){return mt.a.divIcon({iconSize:[45,60],iconAnchor:[22.5,30],popupAnchor:[175,140],html:Pt.a.renderToString(Object(T.jsx)(At,{status:n,quantity:t}))})},It={PositionMarker:St,StationMarker:function(n){var t=n.station,e=n.type,i=Object(on.a)(),o=Object(j.useMemo)((function(){return 1!==t.ServiceStatus?Mt(R.Disabled,0):Mt(ot(t.ServiceStatus,e===L.Bike?t.AvailableRentBikes:t.AvailableReturnBikes),e===L.Bike?t.AvailableRentBikes:t.AvailableReturnBikes)}),[t.AvailableRentBikes,t.AvailableReturnBikes,t.ServiceStatus,e]);return Object(T.jsx)(yt.a,{icon:o,position:[t.StationPosition.PositionLat,t.StationPosition.PositionLon],eventHandlers:{click:function(){i.flyTo([t.StationPosition.PositionLat,t.StationPosition.PositionLon],18)}},children:Object(T.jsx)(Lt,{station:t})})}},Ht=function(){var n=Object(Q.b)(),t=Object(j.useRef)(null),e=Object(j.useState)(null),i=Object(C.a)(e,2),o=i[0],r=i[1],a=Object(Q.c)((function(n){return n.station})).data,c=Object(Q.c)((function(n){return n.geolocation.position})),s=Object(Q.c)((function(n){return n.displayType})).type;return Object(j.useEffect)((function(){a.length>0&&o&&o.flyTo([a[0].StationPosition.PositionLat,a[0].StationPosition.PositionLon],18,{animate:!1})}),[a,o]),Object(j.useEffect)((function(){null===t.current&&c&&o&&(n(Y({position:c})),o.flyTo([c[0],c[1]],18,{animate:!1})),t.current=c}),[c,o,n]),Object(T.jsxs)(X.a,{style:{height:"100%",width:"100%"},center:[23.703875,120.982024],zoom:8,whenCreated:r,scrollWheelZoom:!0,zoomControl:!1,children:[Object(T.jsxs)(F.d,{children:[Object(T.jsx)(F.b,{path:"/",element:Object(T.jsx)(F.a,{to:f.Bicycle,replace:!0})}),Object(T.jsx)(F.b,{path:f.Bicycle,element:Object(T.jsx)(gt,{})}),Object(T.jsx)(F.b,{path:f.Routes,element:Object(T.jsx)("div",{children:"Routes"})})]}),Object(T.jsx)(K.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://a.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),c&&Object(T.jsx)(It.PositionMarker,{position:c}),a.map((function(n){return Object(T.jsx)(It.StationMarker,{type:s,station:n},n.StationID)}))]})},Zt=O.d.div(Pn||(Pn=Object(y.a)(["\n  position: relative;\n  width: 100vw;\n  height: calc(100vh - ",");\n\n  ","\n"])),(function(n){return n.theme.layout.headerHeight.default}),w("md")(Dn||(Dn=Object(y.a)(["\n    height: calc(100vh - ",");\n  "])),(function(n){return n.theme.layout.headerHeight.md}))),_t=function(){return Object(T.jsxs)(S.a,{basename:"/F2E2021-taiwan-bicycle-travel",children:[Object(T.jsx)(U,{}),Object(T.jsx)(Zt,{children:Object(T.jsx)(Ht,{})})]})},Jt=e(57),qt=e(13),Ut=Object(qt.b)({station:en,geolocation:pt,displayType:Qn}),Xt=e(20),Kt=e.n(Xt),Qt=e(17),Wt=e(54),Gt=e.n(Wt),Vt=e(56),Yt=function(){var n=(new Date).toUTCString(),t=new Vt.a("SHA-1","TEXT");t.setHMACKey("xtZ8aAkFV7CUlPr9QObyvFlEQxc","TEXT"),t.update("x-date: "+n);var e=t.getHMAC("B64");return{Authorization:'\n    hmac username="'.concat("161bd8271c0e417a9ee2eb466ec2b53f",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(e,'"\n  '),"X-Date":n}},ne=Gt.a.create({baseURL:"https://ptx.transportdata.tw/MOTC"}),te=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=n.map((function(n){return n+" ne null"})).join(" and "),i=t.map((function(n){return"(".concat(n.searchFields.map((function(t){return"contains(".concat(t,", '").concat(n.keyword,"')")})).join(" or "),")")})).join(" and ");return[e,i].filter((function(n){return n})).join(" and ")},ee=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return"nearby(".concat(n[0],",").concat(n[1],",").concat(t,")")},ie=["StationID","StationName/Zh_tw","StationPosition/PositionLon","StationPosition/PositionLat"],oe=["StationName/Zh_tw","StationAddress/Zh_tw"],re=function(n){var t=n.$format,e=void 0===t?"JSON":t,i=n.$filter,o=n.city;return ne.get("/v2/Bike/Station/".concat(o),{headers:Yt(),params:{$format:e,$filter:i}})},ae=function(n){var t=n.$format,e=void 0===t?"JSON":t,i=n.$spatialFilter,o=n.$filter;return ne.get("/v2/Bike/Station/NearBy",{headers:Yt(),params:{$format:e,$spatialFilter:i,$filter:o}})},ce=["StationID","ServiceStatus","AvailableRentBikes","AvailableReturnBikes"],se=function(n){var t=n.$format,e=void 0===t?"JSON":t,i=n.$filter,o=n.city;return ne.get("/v2/Bike/Availability/".concat(o),{headers:Yt(),params:{$format:e,$filter:i}})},le=function(n){var t=n.$format,e=void 0===t?"JSON":t,i=n.$spatialFilter;return ne.get("/v2/Bike/Availability/NearBy",{headers:Yt(),params:{$format:e,$spatialFilter:i}})},ue=Kt.a.mark(pe),de=Kt.a.mark(be);function pe(n){var t,e,i,o,r,a;return Kt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=n.payload,c.prev=1,!("position"in t)){c.next=11;break}return c.next=5,Object(Qt.b)(ae,{$filter:te(ie),$spatialFilter:ee(t.position)});case 5:return e=c.sent,c.next=8,Object(Qt.b)(le,{$filter:te(ce),$spatialFilter:ee(t.position)});case 8:i=c.sent,c.next=18;break;case 11:return o=t.keyword,r=t.city,c.next=14,Object(Qt.b)(re,{$filter:te(ie,[{keyword:o,searchFields:oe}]),city:r});case 14:return e=c.sent,c.next=17,Object(Qt.b)(se,{$filter:te(ce),city:r});case 17:i=c.sent;case 18:return a=e.data.reduce((function(n,t){var e=i.data.findIndex((function(n){return n.StationID===t.StationID}));return e>-1&&n.push(Object.assign(t,i.data[e])),n}),[]),c.next=21,Object(Qt.d)(nn({data:a}));case 21:c.next=27;break;case 23:return c.prev=23,c.t0=c.catch(1),c.next=27,Object(Qt.d)(tn({error:c.t0}));case 27:case"end":return c.stop()}}),ue,null,[[1,23]])}function be(){return Kt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Qt.e)(Y,pe);case 2:case"end":return n.stop()}}),de)}var he=be,fe=Kt.a.mark(je);function je(){return Kt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Qt.a)([Object(Qt.c)(he)]);case 2:case"end":return n.stop()}}),fe)}var xe=Object(Jt.a)(),me=Object(W.a)({reducer:Ut,middleware:function(n){return n().concat(xe)},devTools:!1});xe.run(je);var ge,ye=me,Oe=Object(O.b)(ge||(ge=Object(y.a)(['\n  * {\n    box-sizing: border-box;\n  }\n  html {\n    line-height: 1.15;\n    -webkit-text-size-adjust: 100%;\n  }\n  body {\n    margin: 0;\n  }\n  main {\n    display: block;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n  h1, h2, h3, h4, h5, h6, p {\n    margin: 0;\n    font-weight: normal;\n  }\n  hr {\n    box-sizing: content-box;\n    height: 0;\n    overflow: visible;\n  }\n  pre {\n    font-family: monospace, monospace;\n    font-size: 1em;\n  }\n  a {\n    background-color: transparent;\n  }\n  a:visited {\n    color: inherit;\n  }\n  a:-webkit-any-link {\n    color: inherit;\n  }\n  abbr[title] {\n    border-bottom: none;\n    text-decoration: underline;\n    text-decoration: underline dotted;\n  }\n  b,\n  strong {\n    font-weight: bolder;\n  }\n  code,\n  kbd,\n  samp {\n    font-family: monospace, monospace;\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  img {\n    border-style: none;\n  }\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit;\n    font-size: 100%;\n    line-height: 1.15;\n    margin: 0;\n    border:none;\n    background-image:none;\n    background-color:transparent;\n    box-shadow: none;\n    color: inherit;\n  }\n  button,\n  input {\n    overflow: visible;\n  }\n  input {\n    outline: none;\n  }\n  button,\n  select {\n    text-transform: none;\n    outline: none;\n  }\n  button,\n  [type="button"],\n  [type="reset"],\n  [type="submit"] {\n    -webkit-appearance: button;\n    padding: 0;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n  }\n  button::-moz-focus-inner,\n  [type="button"]::-moz-focus-inner,\n  [type="reset"]::-moz-focus-inner,\n  [type="submit"]::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n  button:-moz-focusring,\n  [type="button"]:-moz-focusring,\n  [type="reset"]:-moz-focusring,\n  [type="submit"]:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n  fieldset {\n    padding: 0.35em 0.75em 0.625em;\n  }\n  legend {\n    box-sizing: border-box;\n    color: inherit;\n    display: table;\n    max-width: 100%;\n    padding: 0;\n    white-space: normal;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  textarea {\n    overflow: auto;\n  }\n  [type="checkbox"],\n  [type="radio"] {\n    box-sizing: border-box;\n    padding: 0;\n  }\n  [type="number"]::-webkit-inner-spin-button,\n  [type="number"]::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [type="search"] {\n    -webkit-appearance: textfield;\n    outline-offset: -2px;\n  }\n  [type="search"]::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button;\n    font: inherit;\n  }\n  details {\n    display: block;\n  }\n  summary {\n    display: list-item;\n  }\n  template {\n    display: none;\n  }\n  [hidden] {\n    display: none;\n  }\n  .leaflet-tooltip {\n    background-color: '," !important;\n    border-color: "," !important;\n  }\n  .leaflet-tooltip-top:before {\n    border-top-color: "," !important;\n  }\n  .leaflet-tooltip-bottom:before {\n    border-bottom-color: "," !important;\n  }\n  .leaflet-tooltip-left:before {\n    border-left-color: "," !important;\n  }\n  .leaflet-tooltip-right:before {\n    border-right-color: "," !important;\n  }\n  .leaflet-popup-tip {\n    display: none;\n  }\n  .leaflet-div-icon {\n    background-color: transparent !important;\n    border: none !important;\n  }\n  .leaflet-popup-scrolled {\n    border: none !important;\n  }\n"])),Ct.colors.grey[700],Ct.colors.grey[700],Ct.colors.grey[700],Ct.colors.grey[700],Ct.colors.grey[700],Ct.colors.grey[700]);g.a.render(Object(T.jsx)(x.a.StrictMode,{children:Object(T.jsx)(O.a,{theme:Ct,children:Object(T.jsxs)(Q.a,{store:ye,children:[Object(T.jsx)(Oe,{}),Object(T.jsx)(_t,{})]})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.0ab71d67.chunk.js.map